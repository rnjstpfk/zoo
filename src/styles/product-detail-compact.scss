@use "./variables" as *;

.product-detail-compact {
  color: var(--ink);
  background: var(--bg);

  .container { max-width: var(--container); margin: 0 auto; padding: 24px 16px 48px; }
  .two-col   { display:flex; align-items:flex-start; gap:32px; }
  .left-col  { flex:1; min-width:0; }
  .right-col { width:420px; flex-shrink:0; position:relative; }
}

/* 포토리뷰 글씨 */
.photoReview{text-align: center; font-weight: bold; }

/* ───── 갤러리 ───── */
.cd-gallery{
  .main{
    position:relative; border-radius:8px; overflow:hidden; background:#f5f5f5;
    img{ width:100%; display:block; object-fit:cover; }
    .nav{ position:absolute; top:50%; transform:translateY(-50%);
      width:36px; height:36px; border-radius:50%; background:#fff; border:1px solid var(--line);
      display:grid; place-items:center; cursor:pointer; box-shadow:0 1px 4px rgba(0,0,0,.08);
    }
    .nav.prev{ left:8px; } .nav.next{ right:8px; }
  }

  .thumb-rail{
    display:flex; align-items:center; gap:12px; margin-top:12px;

    .rating-tile{
      flex:0 0 auto; width:68px; height:68px; border:1px solid var(--line); border-radius:12px; background:#fff;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      .score{ font-size:18px; line-height:1; font-weight:$weight-semi; }
      .stars{ position:relative; line-height:1; margin-top:4px; font-size:14px;
        .off{ color:#e2e2e2; }
        .on{ position:absolute; left:0; top:0; color:#f6c200; white-space:nowrap; overflow:hidden; }
      }
      .cnt{ font-size:11px; color:#888; margin-top:4px; }
    }

    .thumbs{ display:flex; gap:8px; overflow:auto; -ms-overflow-style:none; scrollbar-width:none;
      &::-webkit-scrollbar{ display:none; }
    }
    .thumb{ width:64px; height:64px; padding:0; border:0; background:transparent; cursor:pointer;
      /* border-radius:8px; */ overflow:hidden;
      img{ width:100%; height:100%; object-fit:cover; display:block; }
      &.active{ outline:2px solid #e9e9e9; outline-offset:-2px; }
    }
  }
}

/* 긴 이미지 */
.poster img{ width:100%; display:block; margin-top:14px; border-radius:8px; background:#f5f5f5; }

/* 오른쪽 구매 박스 */
.compact-buybox{
  background:#fff; border:none; border-radius:10px; padding:14px;

  .topline{ display:flex; justify-content:space-between; align-items:flex-start; gap:10px; border-bottom: 1px solid #ddd;
    .title{ font-size:16px; font-weight:$weight-semi; line-height:1.3; margin:0; }
    .wish { width:28px; height:28px; border:none; background:#fff; border-radius:50%; cursor:pointer; }
  }
  .price-area{ display:flex; gap:10px; align-items:flex-end; margin:10px 0 6px;
    .base{ color:#9aa0a6; text-decoration:line-through; font-size:13px; }
    .final{ font-size:20px; font-weight:$weight-bold; }
  }
  .ship{ font-size:12px; color:#555; margin-bottom:10px; b{ font-weight:$weight-semi; } }

  .options{
    display:grid; grid-template-columns:repeat(3,1fr); gap:6px; margin-bottom:8px;
    select{
      height:36px;
      border:1px solid var(--line);
      background:#fff;
      border-radius:6px;
      padding:0 10px;
      font-size:13px;

      appearance:none;
      -webkit-appearance:none;
      -moz-appearance:none;

      background-image:none !important;
      background-position:initial;
      background-size:auto;
      background-repeat:no-repeat;
    }
    select::-ms-expand{ display:none; }
    @media (max-width:1200px){ grid-template-columns:repeat(2,1fr); }
    @media (max-width:640px){ grid-template-columns:1fr; }
  }

  .sizes{ display:flex; flex-wrap:wrap; gap:6px; margin:6px 0 12px;
    .chip{ border:1px solid var(--line); background:#fff; border-radius:6px; height:32px; padding:0 10px; font-size:12px; cursor:pointer;
      &.on{ background:#111; color:#fff; border-color:#111; }
    }
  }

  .cta{ display:grid; grid-template-columns:1fr 1fr; gap:8px;
    .cart{ height:40px; border:1px solid #111; background:#fff; color:#111; font-weight:$weight-semi; }
    .buy { height:40px; border:1px solid #0a6d1a; background:#1f8b2d; color:#fff; font-weight:$weight-semi; }
  }
}

/* ───────── 리뷰로 보는 활용 가이드 ───────── */
.review-guide{
  margin:24px auto 0; padding:18px; border:1px solid var(--line); border-radius:12px; background:#fff;
  h3{ margin:0 0 8px; font-size:18px; text-align:center; font-weight:$weight-semi;
    .blue{ color:#2563eb; }
  }
  .lead{ color:#444; text-align:left; margin:8px 0 10px; }
  .pills{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px;
    .pill{ background:#f3f7ff; color:#2b55ff; border:1px solid #e5edff; padding:6px 10px; border-radius:999px; font-size:13px; }
  }
  hr{ border:none; border-top:1px solid var(--line); margin:8px 0 12px; }
  .rows{ display:grid; grid-template-columns:1fr 1fr; gap:8px 16px;
    .row{ display:flex; gap:12px; b{ width:92px; color:#666; font-weight:600; } span{ color:#111; } }
    @media (max-width:640px){ grid-template-columns:1fr; }
  }
  .note{ text-align:right; color:#999; font-size:12px; margin-top:8px; }
}

/* ───────── REVIEW + Q&A (가운데 정렬) ───────── */
.rv-wrap{
  max-width:1120px; margin:24px auto 40px; padding:0 8px;

  .rv-title{
    display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;
    h2{ margin:0; font-size:18px; font-weight:$weight-semi;
      small{ color:#888; font-weight:400; }
    }
    .more{ color:#777; font-size:13px; text-decoration:underline; border: none;}
  }

  .rv-summary{
    border:1px solid var(--line); background:#fff; border-radius:12px; padding:14px 16px;

    .row1{ display:flex; gap:16px; align-items:flex-start; }
    .row2{ margin-top:12px; display:flex; align-items:center; gap:10px; }

    .score-badge{
      width:84px; height:84px; border:1px solid var(--line); border-radius:12px; background:#fff;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      .n{ font-size:28px; line-height:1; font-weight:$weight-semi; }
      .stars{ position:relative; font-size:16px; margin-top:4px;
        .bg{ color:#e2e2e2; }
        .fill{ position:absolute; left:0; top:0; color:#f6c200; white-space:nowrap; overflow:hidden; }
      }
      .c{ font-size:12px; color:#888; margin-top:2px; }
    }

    .bars{ flex:1 1 auto;
      .bar{ display:grid; grid-template-columns:96px 1fr 36px; gap:10px; align-items:center; margin:6px 0;
        .label{ color:#555; font-size:13px; }
        .track{ height:8px; background:#eee; border-radius:999px; overflow:hidden;
          .fill{ display:block; height:100%; background:#111; }
        }
        .num{ color:#666; font-size:12px; text-align:right; }
      }
    }

    .row2{
      .tt{ color:#666; font-size:13px; flex:0 0 auto; }
      .rail{ display:flex; gap:8px; flex-wrap:wrap;
        .ph{ width:76px; height:76px; border-radius:8px; overflow:hidden; background:#f5f5f5; }
        .ph img{ width:100%; height:100%; object-fit:cover; display:block; }
      }
      /* ✅ 포토&동영상 전체보기 버튼 스타일 */
      .view-all{
        margin-left:auto; height:32px; padding:0 12px;
        border:none; background:#fff; font-size:13px; color:#333; cursor: pointer;
      }
    }
  }

  /* ✅ 정렬/필터 바 */
  .rv-filters{
    display:flex; justify-content:space-between; align-items:center;
    gap:12px; margin:12px 0 6px;
    .left{ display:flex; gap:8px; align-items:center; }
    select{ height:34px; border:1px solid var(--line); border-radius:6px; padding:0 10px; background:#fff; }
    .chk{ font-size:13px; color:#666; display:flex; align-items:center; gap:6px; }
    .search{ height:34px; width:220px; border:1px solid var(--line); border-radius:6px; padding:0 10px; }
    .visually-hidden{ position:absolute; width:1px; height:1px; clip:rect(0 0 0 0); overflow:hidden; }
    @media (max-width:640px){ .search{ display:none; } }
  }

  .rv-list{ margin-top:12px; }

  /* 리뷰 카드 */
  .rv-item{
    background:#fff; border:none; border-radius:12px; padding:14px; margin:12px 0;

    .rv-top{
      display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:8px; margin-bottom:8px;
      .stars{ position:relative; font-size:16px; line-height:1;
        .bg{ color:#e2e2e2; } .fill{ position:absolute; left:0; top:0; color:#f6c200; overflow:hidden; white-space:nowrap; }
      }
      .tit{ color:#111; }
      .when{ color:#999; font-size:12px; justify-self:end; }
    }

    .rv-main{
      display:grid; grid-template-columns:1fr 240px; gap:18px; border-top:1px solid var(--line); padding-top:10px;

      .left{
        .text{ margin:6px 0 10px; line-height:1.7; color:#222; }
        .photos{ display:flex; gap:8px; img{ width:120px; height:120px; object-fit:cover; border-radius:8px; } }
        .rv-actions{ display:flex; gap:10px; margin-top:10px;
          button{ font-size:12px; color:#666; background:#fff; border:1px solid var(--line); border-radius:6px; height:30px; padding:0 10px; }
        }
      }

      .right{
        border-left:1px solid var(--line); padding-left:14px; color:#333;
        .who{ margin-bottom:8px; }
        .meta{ display:flex; flex-direction:column; gap:6px; font-size:13px;
          dt{ color:#999; margin-right:6px; } dd{ color:#333; }
          div{ display:flex; }
        }
      }

      @media (max-width:820px){
        grid-template-columns:1fr; 
        .right{ border-left:0; border-top:1px solid var(--line); padding-left:0; padding-top:10px; }
      }
    }
  }

  /* 리뷰 숫자 페이징 (리뷰 바로 아래) */
  .rv-num-pager{
    display:flex; justify-content:center; align-items:center; gap:6px; margin:12px 0 6px;
    .num, .arrow{ min-width:28px; height:28px; padding:0 6px; background:#fff; border:1px solid var(--line); border-radius:4px; font-size:13px; color:#333; }
    .num.on{ background:#e9e9e9; }
  }
  .q-actions{ display:flex; gap:8px; justify-content:center; padding:12px;
      button{ height:34px; padding:0 14px; border:1px solid #111; background:#fff; }
    }

  /* QnA 게시판 */
  .qna-board{
    margin-top:18px; background:#fff; border:1px solid var(--line);  overflow:hidden;

    .q-title{ padding:12px 14px; font-weight:$weight-semi; border-bottom:1px solid var(--line); }

    .q-row{ display:grid; grid-template-columns:1fr 120px 180px; align-items:center;
      padding:10px 14px; border-bottom:1px solid var(--line); font-size:14px; color:#222;
      &.head{ background:#fafafa; color:#666; font-size:13px; font-weight:$weight-medium; }
      .col{ overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
      .subject{ padding-right:10px; }
      .who{ text-align:center; color:#666; }
      .when{ text-align:right; color:#999; }
      @media (max-width:640px){
        grid-template-columns:1fr; .who,.when{ text-align:left; margin-top:6px; }
      }
    }

    .q-pager{ text-align:center; color:#777; padding:10px 0 14px; }
  }
}

/* (기존 full-review 스타일은 보존) */
.full-review{
  max-width: 1120px; margin: 24px auto 0; padding: 0 8px;

  .top{ display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;
    h3{ margin:0; font-weight:$weight-semi; }
    .seeall{ color:#777; font-size:13px; text-decoration:underline; }
  }

  .summary{ display:grid; grid-template-columns:260px 1fr; gap:20px; background:#fff; border:1px solid var(--line);
    border-radius:12px; padding:16px;
    .score{ display:flex; flex-direction:column; align-items:flex-start;
      .big{ font-size:36px; font-weight:$weight-bold; line-height:1; }
      .stars{ position:relative; font-size:20px; margin:6px 0 6px;
        .off{ color:#e2e2e2; } .on{ position:absolute; left:0; top:0; color:#f6c200; overflow:hidden; white-space:nowrap; }
      }
      .desc{ color:#666; font-size:13px; margin-bottom:8px; }
      .write{ height:36px; padding:0 12px; border:1px solid #111; background:#111; color:#fff; border-radius:6px; font-size:13px; }
    }
    .bars{
      .bar-row{ display:grid; grid-template-columns:100px 1fr 54px; align-items:center; gap:10px; margin:8px 0;
        .label{ color:#555; font-size:13px; }
        .bar{ height:10px; background:#eee; border-radius:999px; overflow:hidden;
          i{ display:block; height:100%; background:#111; }
        }
        .val{ color:#666; font-size:12px; text-align:right; }
      }
    }
    @media (max-width:820px){ grid-template-columns:1fr; }
  }

  .photos{ display:flex; gap:10px; flex-wrap:wrap; margin:12px 0 6px;
    .ph{ width:112px; height:112px; border-radius:8px; overflow:hidden; background:#f5f5f5; }
    .ph img{ width:100%; height:100%; object-fit:cover; display:block; }
  }

  .filters{ display:flex; justify-content:space-between; align-items:center; margin:10px 0;
    .left{ display:flex; gap:8px; align-items:center; }
    select{ height:34px; border:1px solid var(--line); border-radius:6px; padding:0 10px; background:#fff; }
    .chk{ font-size:13px; color:#666; display:flex; align-items:center; gap:6px; }
    .search{ height:34px; width:220px; border:1px solid var(--line); border-radius:6px; padding:0 10px; }
    @media (max-width:640px){ .search{ display:none; } }
  }

  .items{
    .rv{ background:#fff; border:1px solid var(--line); border-radius:12px; padding:14px; margin:10px 0; }
    .meta{ display:flex; gap:8px; align-items:center; color:#666; font-size:13px;
      .stars{ position:relative; font-size:16px;
        .off{ color:#e2e2e2; } .on{ position:absolute; left:0; top:0; color:#f6c200; white-space:nowrap; overflow:hidden; }
      }
      .tit{ font-weight:600; color:#111; margin-left:6px; }
      time{ margin-left:auto; color:#999; font-size:12px; }
    }
    .txt{ margin:8px 0; line-height:1.6; color:#222; }
    .rv-photos{ display:flex; gap:8px; img{ width:120px; height:120px; object-fit:cover; border-radius:8px; } }
    .foot{ margin-top:8px; display:flex; gap:8px; .btn{ font-size:12px; color:#666; } }
  }

  .pager{ display:flex; gap:6px; justify-content:center; margin:12px 0;
    button{ min-width:32px; height:32px; border:1px solid var(--line); background:#fff; border-radius:6px; }
    .on{ background:#111; color:#fff; border-color:#111; }
  }

  .bottom-btns{ display:flex; gap:8px; justify-content:center;
    .ghost{ height:36px; padding:0 14px; border:1px solid #111; background:#fff;}
  }
}

/* 반응형 */
@media (max-width:1024px){
  .product-detail-compact {
    .two-col{ display:block; }
    .right-col{ width:auto; margin-top:14px; }
  }
  .cd-gallery .main .nav{ display: none;}
}
